<div class="container posts-page">

  <div class="post row">
    <div class="col-xs-1">
    </div>
    <div class="col-md-9 col-xs-11">
      <div class="info">
        <a ng-href="{{postViewCtrl.post.url}}">
          {{postViewCtrl.post.title}}
          <span class="url">({{postViewCtrl.post.url | hostnameFromUrl}})</span>
        </a>
      </div>
      <div>
        <span>
          submitted by
          <a ng-href="#/users/{{postViewCtrl.post.creatorUID}}">
            {{postViewCtrl.post.creator}}
          </a>
        </span>
      </div>
    </div>
    <div class="col-md-2">
    </div>
  </div>

  <div ng-repeat="comment in postViewCtrl.comments" class="row cmt">
    <div class="col-md-12">
      <p>{{comment.text}}</p>
      <p class="author">posted by
        <a ng-href="#/users/{{comment.creatorUID}}">
          {{comment.creator}}
        </a>
        <a ng-href=""
           ng-click="postViewCtrl.deleteComment(comment)"
           ng-show="postViewCtrl.signedIn() && comment.creatorUID == postViewCtrl.user.uid">
          (delete)
        </a>
      </p>
    </div>
  </div>

  <div class="cmt-form">
    <div ng-hide="postViewCtrl.signedIn()">
      <p><a href="#/login">Sign in</a> to post a comment</p>
    </div>

    <form ng-show="postViewCtrl.signedIn()" ng-submit="postViewCtrl.addComment()">
      <textarea
        ng-model="postViewCtrl.commentText"
        placeholder="Post a Comment"
        class="form-control">
      </textarea>
      <br/>
      <input type="submit" value="Post Comment" class="btn btn-primary" />
    </form>
  </div>

</div>
